# =====================================================
# Facebook Messenger Bot - Environment Variables
# Copy file này thành .env và điền các giá trị thực
# =====================================================

# =========================
# Server Configuration
# =========================
PORT=3001
NODE_ENV=development

# =========================
# Supabase Configuration
# =========================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
SUPABASE_ANON_KEY=your_anon_key_here

# =========================
# Facebook Messenger API
# =========================
# Page Access Token - lấy từ Facebook Developer Console
# Vào App > Messenger > Settings > Access Tokens
FACEBOOK_PAGE_ACCESS_TOKEN=your_page_access_token_here

# Verify Token - tự đặt, dùng để xác minh webhook
# Đặt cùng giá trị này trong Facebook Developer Console khi setup webhook
FACEBOOK_VERIFY_TOKEN=your_custom_verify_token_here

# Facebook App ID (optional)
FACEBOOK_APP_ID=your_app_id_here

# Facebook App Secret (optional - dùng cho verify signature)
FACEBOOK_APP_SECRET=your_app_secret_here

# =========================
# Webhook Configuration
# =========================
# URL webhook đến hệ thống quản lý của bạn
# Bot sẽ POST đơn hàng mới đến URL này
WEBHOOK_URL=https://your-website.com/api/orders

# =========================
# Email Configuration (optional)
# =========================
ADMIN_EMAIL=admin@shop.com
EMAIL_USER=noreply@shop.com
EMAIL_PASSWORD=your_email_app_password

# =========================
# CORS Configuration
# =========================
FRONTEND_URL=http://localhost:3000

# =====================================================
# HƯỚNG DẪN CẤU HÌNH FACEBOOK MESSENGER:
# =====================================================
# 
# 1. Tạo Facebook App:
#    - Vào https://developers.facebook.com
#    - Tạo App mới > Chọn "Business" > "Messenger"
#
# 2. Cấu hình Messenger:
#    - Vào App Dashboard > Messenger > Settings
#    - Thêm Facebook Page của bạn
#    - Copy Page Access Token vào FACEBOOK_PAGE_ACCESS_TOKEN
#
# 3. Cấu hình Webhook:
#    - Vào Messenger > Settings > Webhooks
#    - Callback URL: https://your-domain.com/messenger/webhook
#    - Verify Token: điền giá trị của FACEBOOK_VERIFY_TOKEN
#    - Chọn các Subscription Fields:
#      + messages
#      + messaging_postbacks
#      + messaging_optins
#
# 4. Deploy Backend:
#    - Deploy backend lên server có HTTPS (bắt buộc)
#    - Hoặc dùng ngrok để test local
#
# 5. Verify Webhook:
#    - Facebook sẽ gửi GET request để verify
#    - Nếu thành công, webhook sẽ được kích hoạt
#
# =====================================================
